<%- include('../shared/header') %>
    <style>
        .CodeMirror {
            height: 90% !important;
            border: 0px !important;
        }
    </style>
    <div class="d-flex level-container">
        <div class="p-2 sidebar">
            <div class="list-group">
                <% lists.forEach(list=> { %>
                    <% if(list.id==data[0].id) { %>
                        <div class="list-group-item active">
                            <%= list.level_name %>
                        </div>
                        <% } else { %>
                            <a href="/material/<%=list.lesson_id%>/level/<%=list.id%>"
                                class="text-start list-group-item list-group-item-action btn btn-transparent">
                                <%= list.level_name %>
                            </a>
                            <% } %>
                                <% }); %>
            </div>
        </div>
        <div class="p-2 flex-fill">
            <h2 class="m-2">
                <%= data[0].level_name %>
            </h2>
            <% if(roles.indexOf('admin') !==-1) { %>
                <a href="/material/<%=data[0].lesson_id%>/level/<%= data[0].id %>/edit" class="btn btn-danger">Edit
                    Level</a>
                <% } %>
                    <textarea id="previewMode"><%= data[0].content %></textarea>

        </div>
    </div>
    <script src="/simplemde.min.js"></script>
    <script>
        $(document).ready(function(){
            var previewMde = new SimpleMDE({
                element: $("#previewMode")[0],
                renderingConfig: {
                    codeSyntaxHighlighting: true,
                },
                toolbar: null,
                status: false,
            });
            // previewMde.value()
            previewMde.togglePreview();
        })
    </script>
    <%- include('../shared/footer') %>